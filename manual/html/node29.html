<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>The Cloud-in-a-Cell algorithm</TITLE>
<META NAME="description" CONTENT="The Cloud-in-a-Cell algorithm">
<META NAME="keywords" CONTENT="archimedes">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="archimedes.css">

<LINK REL="next" HREF="node30.html">
<LINK REL="previous" HREF="node28.html">
<LINK REL="up" HREF="node27.html">
<LINK REL="next" HREF="node30.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html509"
  HREF="node30.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html505"
  HREF="node27.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html499"
  HREF="node28.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/lib/latex2html/icons/prev.png"></A> 
<A NAME="tex2html507"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/usr/lib/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html510"
  HREF="node30.html">The Stationary Poisson Equation</A>
<B> Up:</B> <A NAME="tex2html506"
  HREF="node27.html">Coupling between Monte Carlo</A>
<B> Previous:</B> <A NAME="tex2html500"
  HREF="node28.html">Introduction</A>
 &nbsp; <B>  <A NAME="tex2html508"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00720000000000000000">
The Cloud-in-a-Cell algorithm</A>
</H1>

<P>
Since the number of particles in a simulation is quite limited, if compared to the number of particles in a real semiconductor device, noise will always be present in the solutions generated by <B>GNU Archimedes</B>. That is why we have to use an advanced algorithm in order to avoid, as the best as possible, this noise, instead of simply counting the number of particles in the cells of the simulation. For this purpose, we use in <B>GNU Archimedes</B> the well-known cloud-in-cell algorithm. For more informations about cloud-in-cell method and more advanced algorithms see the following papers

<OL>
<LI>S.E.Laux, "On Particle-Mesh Coupling in Monte Carlo Semiconductor Device Simulation", IBM Research Report, RC 20101
</LI>
<LI>S.E.Laux, "On Particle-Mesh Coupling in Monte Carlo Semiconductor Device Simulation", IBM Research Report, RC 20081
</LI>
</OL>
We report here a brief description of the cloud-in-cell method.

<BR>
Let us consider a finite difference mesh with the nodes located at <IMG
 WIDTH="60" HEIGHT="39" ALIGN="MIDDLE" BORDER="0"
 SRC="img109.png"
 ALT="$ (x_i,y_j)$">
. Let us denote by <IMG
 WIDTH="31" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img110.png"
 ALT="$ \Delta x$">
 and <IMG
 WIDTH="30" HEIGHT="35" ALIGN="MIDDLE" BORDER="0"
 SRC="img111.png"
 ALT="$ \Delta y$">
 the constant spatial step in the <IMG
 WIDTH="15" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img112.png"
 ALT="$ x$">
-direction and <IMG
 WIDTH="14" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img113.png"
 ALT="$ y$">
-direction. Then, if we denote by <IMG
 WIDTH="48" HEIGHT="39" ALIGN="MIDDLE" BORDER="0"
 SRC="img114.png"
 ALT="$ (x,y)$">
 the point coordinates in which one wants to compute the density charge, with <!-- MATH
 $x_i<x<x_{i+1}$
 -->
<IMG
 WIDTH="115" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img115.png"
 ALT="$ x_i&lt;x&lt;x_{i+1}$">
 and <!-- MATH
 $y_i<y<y_{i+1}$
 -->
<IMG
 WIDTH="111" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img116.png"
 ALT="$ y_i&lt;y&lt;y_{i+1}$">
, we compute the density in the following way
<BR>
<DIV ALIGN="CENTER">
<!-- MATH
 \begin{eqnarray}
n_{i,j} &=& \frac{S_{i,j}}{A_{i,j}^2} (x_{i+1} - x) (y_{j+1} - y) \\
 n_{i+1,j} &=& \frac{S_{i+1,j}}{A_{i+1,j}^2} (x - x_i) (y_{j+1} - y) \\
 n_{i,j+1} &=& \frac{S_{i,j+1}}{A_{i,j+1}^2}(x_{i+1} - x) (y_{j+1} - y) \\
 n_{i+1,j+1} &=& \frac{S_{i+1,j+1}}{A_{i+1,j+1}^2} (x-x_i) (y-y_j)
\end{eqnarray}
 -->
<TABLE CELLPADDING="0" ALIGN="CENTER" WIDTH="100%">
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="31" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img117.png"
 ALT="$\displaystyle n_{i,j}$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="19" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img59.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="201" HEIGHT="62" ALIGN="MIDDLE" BORDER="0"
 SRC="img118.png"
 ALT="$\displaystyle \frac{S_{i,j}}{A_{i,j}^2} (x_{i+1} - x) (y_{j+1} - y)$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
(6.1)</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="49" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img119.png"
 ALT="$\displaystyle n_{i+1,j}$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="19" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img59.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="201" HEIGHT="62" ALIGN="MIDDLE" BORDER="0"
 SRC="img120.png"
 ALT="$\displaystyle \frac{S_{i+1,j}}{A_{i+1,j}^2} (x - x_i) (y_{j+1} - y)$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
(6.2)</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="49" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img121.png"
 ALT="$\displaystyle n_{i,j+1}$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="19" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img59.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="218" HEIGHT="62" ALIGN="MIDDLE" BORDER="0"
 SRC="img122.png"
 ALT="$\displaystyle \frac{S_{i,j+1}}{A_{i,j+1}^2}(x_{i+1} - x) (y_{j+1} - y)$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
(6.3)</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="66" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img123.png"
 ALT="$\displaystyle n_{i+1,j+1}$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="19" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img59.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="201" HEIGHT="62" ALIGN="MIDDLE" BORDER="0"
 SRC="img124.png"
 ALT="$\displaystyle \frac{S_{i+1,j+1}}{A_{i+1,j+1}^2} (x-x_i) (y-y_j)$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
(6.4)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL">

where <IMG
 WIDTH="31" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img125.png"
 ALT="$ n_{i,j}$">
 is the density located at <IMG
 WIDTH="60" HEIGHT="39" ALIGN="MIDDLE" BORDER="0"
 SRC="img109.png"
 ALT="$ (x_i,y_j)$">
, <IMG
 WIDTH="32" HEIGHT="35" ALIGN="MIDDLE" BORDER="0"
 SRC="img126.png"
 ALT="$ S_{i,j}$">
 the statistical weight of the particles located at <IMG
 WIDTH="60" HEIGHT="39" ALIGN="MIDDLE" BORDER="0"
 SRC="img109.png"
 ALT="$ (x_i,y_j)$">
 and <!-- MATH
 $A_{i,j}= \Delta x_i \Delta y_j$
 -->
<IMG
 WIDTH="123" HEIGHT="35" ALIGN="MIDDLE" BORDER="0"
 SRC="img127.png"
 ALT="$ A_{i,j}= \Delta x_i \Delta y_j$">
.
Methods do exist that avoid the problems of self-forces but they are necessary only when the grid is not regular and when we deal with heterostructures. They are not implemented, at the present time, in <B>GNU Archimedes</B> because do not yet deal with such structures. They will be implemented in the next future.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html509"
  HREF="node30.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html505"
  HREF="node27.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html499"
  HREF="node28.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/lib/latex2html/icons/prev.png"></A> 
<A NAME="tex2html507"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/usr/lib/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html510"
  HREF="node30.html">The Stationary Poisson Equation</A>
<B> Up:</B> <A NAME="tex2html506"
  HREF="node27.html">Coupling between Monte Carlo</A>
<B> Previous:</B> <A NAME="tex2html500"
  HREF="node28.html">Introduction</A>
 &nbsp; <B>  <A NAME="tex2html508"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
Didier Link
2007-05-18
</ADDRESS>
</BODY>
</HTML>
